# img
在线预测（二分类模型）
特征定义
历史活跃天数 
D 
active
​
 
：
用户在 7.11-7.20 期间有行为的天数，衡量用户在特定时间段内的活跃程度。
最近登录时间距离 
Δt
：
Δt=21−用户最后一次登录的日期(如最后一次登录为 7.20，则 Δt=1)
反映用户最近一次登录与 7 月 21 日的时间间隔，用于推测登录频率和近期活跃度。
平均互动次数 
N
ˉ
  
interact
​
 
：
N
ˉ
  
interact
​
 = 
D 
active
​
 
用户 7.11-7.20 总互动次数
​
 
体现用户在活跃期间的平均互动强度。
目标变量 
y 
online
​
 
：
二分类变量，定义为：
y 
online
​
 ={ 
1
0
​
  
用户预测日有行为
其他
​
 
XGBoost 二分类目标函数
L=∑ 
i=1
n
​
 [y 
i
​
 ln(p 
i
​
 )+(1−y 
i
​
 )ln(1−p 
i
​
 )]+λ∥ω∥ 
2
 
其中：
p 
i
​
 = 
1+e 
−f(x 
i
​
 )
 
1
​
 
，
f(x 
i
​
 )
 为树模型输出；
λ
 为正则化系数，通过惩罚模型复杂度防止过拟合；
前半部分为对数损失函数，衡量预测概率 
p 
i
​
 
 与真实标签 
y 
i
​
 
 的差异。
互动数预测（回归模型）
特征定义
用户对博主的历史互动次数 
N 
u,b
​
 
：
N 
u,b
​
 =∑ 
t=7.11
7.20
​
 (点赞 
u,b,t
​
 +评论 
u,b,t
​
 +关注 
u,b,t
​
 )
刻画用户与特定博主在 7.11-7.20 期间的互动总次数。
博主被关注数 
H 
follow
​
 
：
H 
follow
​
 =∑ 
t=7.11
7.20
​
 关注 
b,t
​
 
反映博主在 7.11-7.20 期间的受欢迎程度。
博主吸引力 
H 
attr
​
 
：
H 
attr
​
 = 
∑ 
t=7.11
7.20
​
 观看 
b,t
​
 
∑ 
t=7.11
7.20
​
 (点赞 
b,t
​
 +评论 
b,t
​
 )
​
 
通过 “点赞 + 评论” 与 “观看次数” 的比值，衡量博主内容对用户的吸引力。
用户行为高峰时段 
T 
u
​
 
：
T 
u
​
 =argmax 
h=1
24
​
 ∑ 
t=7.11
7.20
​
 行为次数 
u,h
​
 
表示用户在 7.11-7.20 期间每日行为最频繁的小时（1-24 时）。
XGBoost 回归目标函数
L=∑ 
i=1
n
​
 (y 
i
​
 − 
y
^
​
  
i
​
 ) 
2
 +λ∥ω∥ 
2
 
其中：
y
^
​
  
i
​
 =f(x 
i
​
 )
，为模型预测的互动次数；
采用平方损失函数（前半部分）衡量预测值与真实值的差异，后半部分为正则化项，避免过拟合。
公式总结
在线概率
p 
online
​
 =σ(∑ 
k=1
K
​
 f 
k
​
 (x))
其中 Sigmoid 函数定义为：
σ(z)= 
1+e 
−z
 
1
​
 
将树模型输出的线性组合映射到 (0, 1) 区间，得到用户预测日有行为的概率。
互动数预测值
y
^
​
  
u,b
​
 =∑ 
k=1
K
​
 f 
k
​
 (x)
通过累加 
K
 棵树模型的输出，得到用户与博主的互动次数预测值。
